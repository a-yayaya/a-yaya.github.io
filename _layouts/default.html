<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{{ page.title | default: site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}">
  <link rel="icon" href="{{ '/assets/favicon.png' | relative_url }}">
  {%- seo -%}

  <!-- Tailwind + Typography 插件（关键！） -->
  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
  <script>
    tailwind.config = { darkMode: 'class' };
    const t = localStorage.getItem('theme');
    if (t==='dark' || (!t && matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark');
    }
  </script>
  <style>
    :root { --page-w: 880px; }
    body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"; }
    .content { max-width: var(--page-w); }
    .anchor { scroll-margin-top: 96px; }
  </style>
</head>
<body class="bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100">

  <!-- 顶部导航（固定、极简） -->
  <header class="sticky top-0 z-50 bg-white/85 dark:bg-slate-950/85 backdrop-blur border-b border-slate-200 dark:border-slate-800">
    <div class="content mx-auto px-4 h-14 flex items-center justify-between">
      <a href="{{ '/' | relative_url }}" class="font-semibold tracking-tight">{{ site.title }}</a>
      <nav class="hidden md:flex gap-6 text-sm text-slate-600 dark:text-slate-300">
        <a href="#about" class="hover:text-black dark:hover:text-white">About</a>
        <a href="#dataset" class="hover:text-black dark:hover:text-white">Dataset</a>
        <a href="#leaderboard" class="hover:text-black dark:hover:text-white">Leaderboard</a>
        <a href="#citation" class="hover:text-black dark:hover:text-white">Citation</a>
        <a href="#license" class="hover:text-black dark:hover:text-white">License</a>
      </nav>
    </div>
  </header>

  <!-- 关键：prose 样式容器 -->
  <main class="content mx-auto px-4 py-10 md:py-14 prose prose-slate dark:prose-invert">
    {{ content }}
  </main>

  <footer class="content mx-auto px-4 py-10 text-sm text-slate-500">
    © 2025 YOUR LAB / GROUP
  </footer>

  <!-- 按 "d" 切换深色 -->
  <script>
    document.addEventListener('keydown', e => {
      if (e.key === 'd') {
        const r = document.documentElement;
        r.classList.toggle('dark');
        localStorage.setItem('theme', r.classList.contains('dark') ? 'dark' : 'light');
      }
    });
  </script>
</body>
</html>
