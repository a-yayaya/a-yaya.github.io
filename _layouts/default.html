<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'zh-CN' }}" class="scroll-smooth">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ page.title | default: site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}">
  <link rel="icon" href="{{ '/assets/favicon.png' | relative_url }}">

  <!-- Open Graph 基本项（再配合 jekyll-seo-tag） -->
  <meta property="og:title" content="{{ page.title | default: site.title }}">
  <meta property="og:description" content="{{ page.description | default: site.description }}">
  <meta property="og:type" content="website">
  <meta property="og:image" content="{{ page.image | default: site.image | relative_url }}">

  <!-- SEO 插件（GitHub Pages 支持） -->
  {%- seo -%}

  <!-- Tailwind Play CDN（免构建） -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: { extend: { fontFamily: { sans: ['Inter','ui-sans-serif','system-ui'] } } }
    }
  </script>

  <style>
    .hero-bg {
      background:
        radial-gradient(1200px 500px at 10% 10%, rgba(59,130,246,.15), transparent),
        radial-gradient(800px 400px at 90% 10%, rgba(168,85,247,.12), transparent),
        radial-gradient(600px 300px at 50% 0%, rgba(34,197,94,.10), transparent);
    }
    .glass { backdrop-filter: saturate(160%) blur(8px); }
    .shadow-soft { box-shadow: 0 10px 30px rgba(2, 6, 23, .10); }
    .card { border-radius: 1rem; }
    pre code { white-space: pre; }
  </style>
</head>
<body class="bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100">

  <!-- 顶部导航 -->
  <header class="sticky top-0 z-50 bg-white/70 dark:bg-slate-900/70 glass border-b border-slate-200/60 dark:border-slate-800/60">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <a href="{{ '/' | relative_url }}" class="flex items-center gap-2 font-semibold tracking-tight">
          <span class="inline-block w-3 h-3 rounded-full bg-blue-500"></span>
          <span id="brand">{{ site.title }}</span>
        </a>
        <nav class="hidden md:flex items-center gap-6 text-sm">
          <a href="#about" class="hover:text-blue-600">简介</a>
          <a href="#stats" class="hover:text-blue-600">统计</a>
          <a href="#gallery" class="hover:text-blue-600">样例</a>
          <a href="#download" class="hover:text-blue-600">下载</a>
          <a href="#leaderboard" class="hover:text-blue-600">Leaderboard</a>
          <a href="#citation" class="hover:text-blue-600">引用</a>
          <a href="#license" class="hover:text-blue-600">许可</a>
        </nav>
        <div class="flex items-center gap-2">
          <a href="#paper" class="hidden sm:inline-flex items-center rounded-xl px-3 py-1.5 text-sm bg-slate-900 text-white dark:bg-white dark:text-slate-900 hover:opacity-90">Paper</a>
          <button id="themeToggle" aria-label="Toggle theme" class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800">
            <svg id="sun" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden dark:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 3v2m0 14v2m9-9h-2M5 12H3m15.364 6.364-1.414-1.414M7.05 7.05 5.636 5.636m12.728 0-1.414 1.414M7.05 16.95l-1.414 1.414"/><circle cx="12" cy="12" r="4"/></svg>
            <svg id="moon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 dark:hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          </button>
        </div>
      </div>
    </div>
  </header>

  <main>
    {{ content }}
  </main>

  <!-- 页脚 -->
  <footer class="py-10 border-t border-slate-200/70 dark:border-slate-800/70 mt-16">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row items-center justify-between gap-4">
      <div class="text-sm text-slate-500">© 2025 YOUR GROUP / LAB. All rights reserved.</div>
      <div class="flex items-center gap-4 text-sm">
        <a href="https://github.com/yourname/yourrepo" target="_blank" class="hover:underline">GitHub</a>
        <a href="#paper" class="hover:underline">Paper</a>
        <a href="#" id="backTop" class="hover:underline">回到顶部 ↑</a>
      </div>
    </div>
  </footer>

  <script>
    // Theme toggle with localStorage
    const root = document.documentElement;
    const themeToggle = document.getElementById('themeToggle');
    const storedTheme = localStorage.getItem('theme');
    if (storedTheme === 'dark' || (!storedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      root.classList.add('dark');
    }
    themeToggle?.addEventListener('click', () => {
      root.classList.toggle('dark');
      localStorage.setItem('theme', root.classList.contains('dark') ? 'dark' : 'light');
    });

    // Smooth back to top
    document.getElementById('backTop')?.addEventListener('click', (e) => {
      e.preventDefault(); window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  </script>
</body>
</html>
